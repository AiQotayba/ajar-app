# Turbo Monorepo Setup

هذا المشروع يستخدم Turbo لبناء وإدارة monorepo بكفاءة عالية.

## التثبيت

```bash
# تثبيت التبعيات
pnpm install

# تثبيت Turbo
pnpm add -D turbo
```

## الأوامر المتاحة

### التطوير
```bash
# تشغيل جميع التطبيقات في وضع التطوير
pnpm dev

# تشغيل تطبيق معين
pnpm web:dev      # تشغيل تطبيق الويب
pnpm admin:dev    # تشغيل تطبيق الإدارة
```

### البناء
```bash
# بناء جميع التطبيقات
pnpm build

# بناء تطبيق معين
pnpm web:build    # بناء تطبيق الويب
pnpm admin:build  # بناء تطبيق الإدارة
```

### الفحص والاختبار
```bash
# فحص الكود
pnpm lint

# فحص الأنواع
pnpm type-check

# تشغيل الاختبارات
pnpm test

# تنظيف الملفات المؤقتة
pnpm clean
```

### التنسيق
```bash
# تنسيق الكود
pnpm format
```

## البنية

```
ajar-platform/
├── apps/
│   ├── web/          # تطبيق الويب الرئيسي
│   └── admin/        # تطبيق الإدارة
├── packages/
│   └── useApi/       # مكتبة API المشتركة
├── turbo.json        # تكوين Turbo
├── .turborc          # إعدادات Turbo
└── package.json      # التبعيات الرئيسية
```

## الميزات

- **البناء المتوازي**: Turbo يبني التطبيقات بشكل متوازي لتحسين الأداء
- **التخزين المؤقت**: يحفظ نتائج البناء لتسريع البناءات التالية
- **إدارة التبعيات**: يتبع التبعيات بين الحزم ويبنيها بالترتيب الصحيح
- **المرشحات**: يمكن تشغيل أوامر على تطبيقات محددة فقط

## التكوين

### turbo.json
يحتوي على تكوين المهام والتبعيات:
- `build`: بناء التطبيقات
- `dev`: تشغيل وضع التطوير
- `lint`: فحص الكود
- `type-check`: فحص الأنواع
- `test`: تشغيل الاختبارات
- `clean`: تنظيف الملفات المؤقتة

### .turborc
يحتوي على إعدادات Turbo العامة مثل معرف الفريق وURL API.

## نصائح للأداء

1. **استخدم التخزين المؤقت**: Turbo يحفظ نتائج البناء تلقائياً
2. **استخدم المرشحات**: لتشغيل أوامر على تطبيقات محددة فقط
3. **تجنب التبعيات غير الضرورية**: قلل من التبعيات بين الحزم
4. **استخدم البناء المتوازي**: Turbo يبني التطبيقات بشكل متوازي تلقائياً

## استكشاف الأخطاء

### مشاكل شائعة
1. **خطأ في التبعيات**: تأكد من أن جميع الحزم محدثة
2. **مشاكل في التخزين المؤقت**: احذف مجلد `.turbo` وأعد المحاولة
3. **مشاكل في البناء**: تأكد من أن جميع التطبيقات لها scripts مطلوبة

### أوامر مفيدة
```bash
# تنظيف التخزين المؤقت
rm -rf .turbo

# إعادة تثبيت التبعيات
rm -rf node_modules
pnpm install

# فحص البنية
pnpm type-check
```
