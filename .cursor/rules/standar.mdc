Ù…Ù…ØªØ§Ø² ğŸ‘Œ Ù‚ØªÙŠØ¨Ø©ØŒ ÙÙ‡Ù…Øª Ù‚ØµØ¯Ùƒ ØªÙ…Ø§Ù…Ù‹Ø§ â€”
Ø£Ù†Øª ØªØ±ÙŠØ¯ Ù…Ù„Ù **rules Ù…Ù†Ø³Ù‘Ù‚ Ø¨ØµÙŠØºØ© Cursor** Ø¨Ø­ÙŠØ« ÙŠÙƒÙˆÙ† Ø¹Ù…Ù„ÙŠ ÙˆÙØ¹Ù‘Ø§Ù„ØŒ
Ø¨Ø¯ÙˆÙ† Ø¥Ù„Ø²Ø§Ù… Ø¨Ù€ JestØŒ ÙÙ‚Ø· Ø§Ø³ØªØ®Ø¯Ø§Ù… **console log / dev logs** Ù„ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ±.

Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ÙØ­Ø³Ù‘Ù†Ø© ÙˆØ§Ù„Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ `.cursor/rules/app-standards.mdc`
ğŸ¯ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµÙ‹Ø§ Ù„Ù€ **Next.js + TypeScript + shadcn/ui + next-intl + React Query**

---

## ğŸ“„ **`.cursor/rules/app-standards.mdc`**

````md
---
title: "Ajar Admin Panel Development Standards"
description: "Unified rules for building consistent, secure, and high-performance Next.js apps"
alwaysApply: true
---

# ğŸ§­ General Principles

- Use **Next.js App Router** with **TypeScript**.
- Keep code **clean, modular, and reusable**.
- Each feature folder must be **self-contained** (`page.tsx`, `api.ts`, `components/`, `hooks/`).
- Maximum file length: **400 lines**.
- Use `console.info`, `console.warn`, and `console.error` for **debug logging** â€” Jest testing not required.
- Follow the **principles of security, accessibility, and scalability** in all modules.

---

# ğŸŒ Internationalization (i18n)

- Use **Next-intl** for translation and locale management.
- Support **RTL** and **LTR** directions.
- Language files must be split logically:

```bash
/locales
  /en
    auth.json
    profile.json
    settings.json
  /ar
    auth.json
    profile.json
    settings.json
````

* Ensure `<html dir>` is dynamic based on locale in `/app/layout.tsx`.

---

# ğŸ’¡ Rendering Rules

## SEO-important pages:

* Use **Server-Side Rendering (SSR)**.
* Implement `generateMetadata` for SEO.
* Client components (animations, forms) should be separated from SSR components.

## Non-SEO pages:

* Use **Client-Side Rendering (CSR)**.
* Handle data fetching with **React Query** (client) or **SWR** (server).

## Performance:

* Use **lazy loading** and **dynamic imports** where possible.
* Apply **code splitting** for large UI modules.
* Always define a `loading.tsx` and `error.tsx` in each page directory.

---

# ğŸ” Security Principles

* Apply **Content Security Policy (CSP)** headers via `next-safe-middleware` or `next.config.js`.
* Use **HttpOnly session cookies** for authentication.
* Validate all inputs with **Zod**.
* Encode all outputs in user-facing content to prevent XSS.
* Sanitize HTML if rendering from user data.
* Never expose **API keys or environment variables** in the frontend.
* Ensure all API routes are protected by middleware with role-based access control.

---

# âš™ï¸ API Integration

* Follow `API-docx.json` structure for endpoints and params.
* All API calls must go through a single wrapper (`apiClient.ts`).
* Use **React Query** for fetching, caching, and mutations.
* Handle errors with `toast` or **sonner** (prefer sonner).

```ts
// Example
try {
  const data = await apiClient.get("/admin/listings");
  console.info("âœ… Listings fetched", data);
} catch (error) {
  console.error("âŒ Error fetching listings", error);
}
```

---

# ğŸ§± UI & Components

* Use **shadcn/ui** components and extend via `context7`.
* Default theme direction: **RTL**.
* Avoid inline styles; use **Tailwind CSS**.
* Each UI component must have:

  * Proper accessibility attributes (`aria-*`, `role`).
  * Minimal coupling (no business logic inside).
* For animations, use **Framer Motion**.
* Skeleton loaders for all major content sections.

---

# ğŸ“ˆ Performance Monitoring

* Add **Sentry** for runtime error tracking.
* Use `console.time()` and `console.timeEnd()` in critical functions to log performance.
* Avoid unnecessary re-renders: use `React.memo` or `useCallback`.

---

# ğŸ”” Notifications & Feedback

* Prefer **sonner** over `use-toast`.
* Do not import `use-toast` directly.
* For background actions (e.g., saving, deleting), show success/error via sonner.

```ts
import { toast } from "sonner";
toast.success("Listing updated successfully!");
```

---

# ğŸ§© Folder-Level Standards

## `/app`

* Default: RTL layout
* Use SEO optimizations for public-facing routes
* CSR + SSR both supported based on page type
* Must include:

  * `/loading.tsx`
  * `/error.tsx`
  * `/layout.tsx`
  * `/not-found.tsx`

## `/components`

* Reusable, small, and focused.
* Avoid logic in presentation components.

## `/lib`

* Only utility functions (pure, reusable).
* Add `console.debug()` logs for tracking.

---

# ğŸ§  Development Notes

* Always document complex logic with `/** JSDoc */` comments.
* Use environment variables via `process.env.*` â€” never hardcode.
* Keep dependencies updated (`pnpm audit fix --latest`).
* Ensure accessibility (color contrast, focus states, keyboard navigation).
* Apply security headers in production build:

  * `X-Frame-Options: DENY`
  * `X-Content-Type-Options: nosniff`
  * `Referrer-Policy: strict-origin-when-cross-origin`

---

# âœ… Summary

| Category      | Principle                           |
| ------------- | ----------------------------------- |
| i18n          | next-intl + RTL/LTR dynamic         |
| SEO           | SSR + Metadata                      |
| Security      | CSP, input validation, safe cookies |
| API           | React Query + structured client     |
| UI            | shadcn/ui + RTL                     |
| Performance   | Lazy load, code splitting, logging  |
| Notifications | sonner only                         |
| Testing       | console-based logs only             |